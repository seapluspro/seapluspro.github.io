<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CppKnife: Buffer and File Related Statements</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppKnife
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Buffer and File Related Statements </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following statements operate on buffers or files.</p>
<h1><a class="anchor" id="autotoc_md43"></a>
Chapter Overview</h1>
<ul>
<li><a class="el" href="md_doc_searchengine.html">Searchengine</a></li>
<li><a class="el" href="md_doc_basic_statements.html">Basic statements</a></li>
<li><a class="el" href="md_doc_file_statements.html">File and buffer related statements</a></li>
<li><a class="el" href="md_doc_search_statements.html">Search and replace related statements</a></li>
<li><a class="el" href="md_doc_functions.html">Functions</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md44"></a>
Table of Content</h1>
<ul>
<li><a href="#copy">copy</a></li>
<li><a href="#delete">delete</a></li>
<li><a href="#insert">insert</a></li>
<li><a href="#load">load</a></li>
<li><a href="#log">log</a></li>
<li><a href="#select">select</a></li>
<li><a href="#store">store</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md45"></a>
copy</h1>
<p>Copies a text to a buffer. If the parameter append exists the text is appended at the end of the buffer.</p>
<p>There is the possability of a <b>here document</b>: the syntax is '&lt;&lt;' followed by the marker or the delimited marker. All lines following the line of the copy statement are put into the buffer until the marker is found. The delimited marker means: no interpolation is done.</p>
<p>If the marker is not delimited the text is interpolated: variable names will be replaced by the variable values.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Syntax</h2>
<p>copy &lt;text&gt; &lt;target&gt; [append]</p>
<p>copy from &lt;buffer&gt; [starting &lt;start-position&gt;] [including &lt;end-position&gt; | excluding &lt;end-position&gt;] [to &lt;target&gt;] [append]</p>
<p>copy &lt;&lt;&lt;marker&gt; &lt;buffer&gt; [append] &lt;line_1&gt; ... &lt;line_n&gt; &lt;marker&gt;</p>
<p>copy &lt;&lt;'&lt;marker&gt;' &lt;buffer&gt; [append] &lt;line_1&gt; ... &lt;line_m&gt; &lt;marker&gt;</p>
<h2><a class="anchor" id="autotoc_md47"></a>
Parameters</h2>
<ul>
<li><b>text</b>: a string or a buffer expression defining the source of the copy operation</li>
<li><b>target</b>: the target buffer. Default: the current buffer.</li>
<li><b>buffer</b>: the source buffer.</li>
<li><b>start-position</b>: the position in the source buffer where the text to copy begins.</li>
<li><b>end-position</b>: the position in the source buffer where the text to copy ends.</li>
<li><b>including</b>: if that keyword is used the end position is part of the contents to copy.</li>
<li><b>excluding</b>: if that keyword is used the end position is not part of the contents to copy.</li>
<li><b>append</b>: if that keyword exists the content is appended to the target. Otherwise it replaces the target content.</li>
</ul>
<h2><a class="anchor" id="autotoc_md48"></a>
Examples</h2>
<p>copy "Hello" main copy ~csv:1:2 main append # copy the first 2 lines onto the main buffer copy! from ~_main starting  excluding  to ~csv copy &lt;&lt;EOS append line  line  EOS copy &lt;&lt;'EOS' line1  line2 EOS</p>
<h1><a class="anchor" id="autotoc_md49"></a>
delete</h1>
<p>Delete some lines from the current buffer. It can be controlled by:</p>
<ul>
<li>The start of the lines to delete</li>
<li>The end of the lines to delete</li>
<li>The key word exclude-start means: the line defined by start is not deleted</li>
<li>The key word include-end means: the line defined by start will be deleted too</li>
<li>The expression count=&lt;count&gt; defines the number of lines to delete. Can be used instead of an end expression.</li>
<li>If the end and the count is given, the minimum of both will be used.</li>
</ul>
<h2><a class="anchor" id="autotoc_md50"></a>
Syntax</h2>
<p>delete &lt;start-position&gt; &lt;end-position [&lt;buffer&gt;] [excluding-start] [including-end]</p>
<h2><a class="anchor" id="autotoc_md51"></a>
Parameters</h2>
<ul>
<li><b>start-position</b>: the deletion starts at that position. Syntax of the position is <b>line:column</b>.</li>
<li><b>end-position</b>: the deletion ends at that position. Syntax of the position is <b>line:column</b>.</li>
<li><b>buffer</b>: a buffer name. Default is the current buffer.</li>
<li><b>excluding-start</b>: if that keywords are given the deletition starts one character behind the <b>start-position-</b>.</li>
<li><b>including-end</b>: if that keywords are given the deletition includes the character defined by <b>end-position</b>. Otherwise it ends above the <b>end-position</b>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md52"></a>
Examples</h2>
<p>if s/Bob/  =  if s/Eve/ delete!   endif endif delete 1:1 1:3 ~csv including-end</p>
<h1><a class="anchor" id="autotoc_md53"></a>
insert</h1>
<p>Puts a text at a given position.</p>
<h2><a class="anchor" id="autotoc_md54"></a>
Syntax</h2>
<p>insert [&lt;buffer&gt;] &lt;position&gt; &lt;text&gt;</p>
<h2><a class="anchor" id="autotoc_md55"></a>
Parameters</h2>
<ul>
<li><b>buffer</b>: the name of the buffer where the insertion is done.</li>
<li><b>position</b>: the insertion is done at that position. Syntax of the position is <b>line:column</b>.</li>
<li><b>text</b>: that text will be inserted. May be a string, a buffer or a buffer expression.</li>
</ul>
<h2><a class="anchor" id="autotoc_md56"></a>
Examples</h2>
<p>insert ~csv 1:1 "id;name" if r/Alice/ insert!  "Bob and " endif move s/end of file/ insert!  ~csv</p>
<h1><a class="anchor" id="autotoc_md57"></a>
load</h1>
<p>Loads a textfile into a buffer.</p>
<h2><a class="anchor" id="autotoc_md58"></a>
Syntax</h2>
<p>load &lt;buffer&gt; &lt;filename&gt;</p>
<h2><a class="anchor" id="autotoc_md59"></a>
Parameters</h2>
<ul>
<li><b>buffer</b>: the buffer name.</li>
<li><b>filename</b>: the buffer is filled by the contents of that file.</li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
Examples</h2>
<p>load ~_main unprocessed_data.txt</p>
<h1><a class="anchor" id="autotoc_md61"></a>
log</h1>
<p>Puts a text into the buffer named log and display it.</p>
<p>A text may be a string constant or a buffer content.</p>
<h2><a class="anchor" id="autotoc_md62"></a>
Syntax</h2>
<p>log &lt;text&gt;</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Parameters</h2>
<ul>
<li><b>text</b>: the text to log. May be a string, a buffer or a buffer expression.</li>
</ul>
<h2><a class="anchor" id="autotoc_md64"></a>
Examples</h2>
<p>log "= start" log ~csv:1-3</p>
<h1><a class="anchor" id="autotoc_md65"></a>
select</h1>
<p>Selects the buffer where the script should be working ("current buffer"). That is uses in some command as the default buffer.</p>
<p>If the keyword <b>push</b> exists the previous current buffer is stacked. It can be restored with <b>pop</b>.</p>
<h2><a class="anchor" id="autotoc_md66"></a>
Syntax</h2>
<p>select [push] &lt;buffer&gt; select pop</p>
<h2><a class="anchor" id="autotoc_md67"></a>
Parameters</h2>
<ul>
<li><b>buffer</b>: the buffer to select</li>
</ul>
<h2><a class="anchor" id="autotoc_md68"></a>
Examples</h2>
<p>select ~csv select push ~data select pop</p>
<h1><a class="anchor" id="autotoc_md69"></a>
store</h1>
<p>Stores a buffer into a textfile.</p>
<h2><a class="anchor" id="autotoc_md70"></a>
Syntax</h2>
<p>store &lt;buffer&gt; &lt;filename&gt; [append]</p>
<h2><a class="anchor" id="autotoc_md71"></a>
Parameters</h2>
<ul>
<li><b>buffer</b>: the name of the buffer to store.</li>
<li><b>filename</b>: a string with the file where the buffer is stored.</li>
<li><b>append</b>: if that keyword exists the buffer contents is appended to the file. Otherwise it replaces the file contents.</li>
</ul>
<h2><a class="anchor" id="autotoc_md72"></a>
Examples</h2>
<p>store ~main "processed_data.txt"</p>
<p>store ~main "processed_data.txt" append </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
